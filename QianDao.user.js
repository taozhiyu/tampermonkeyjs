// ==UserScript==
// @name         腾讯课堂、超星自动签到(新版)
// @description  腾讯课堂、超星自动签到
// @namespace    QianDao.taozhiyu.gitee.io
// @author       涛之雨
// @version      0.3.8
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_registerMenuCommand
// @grant        GM_addStyle
// @run-at       document-start
// @require      https://libs.baidu.com/jquery/2.1.4/jquery.min.js
// @match        *://ke.qq.com/course/*
// @match        *://ke.qq.com/webcourse*
// @match        *://mobilelearn.chaoxing.com/widget/pcpick/stu/index*
// @match        *://*.chaoxing.com/visit/interaction*
// @match        *://i.mooc.chaoxing.com/*
// @license      GPL-3.0-only
// @icon         https://i.loli.net/2020/03/04/D3h1iWSFeyc8AKG.png
// @updateURL    https://cdn.jsdelivr.net/gh/taozhiyu/tampermonkeyjs@master/QianDao.user.js
// @downloadURL  https://cdn.jsdelivr.net/gh/taozhiyu/tampermonkeyjs@master/QianDao.user.js
// @supportURL   https://github.com/taozhiyu/tampermonkeyjs/issues
// @homepageURL https://github.com/taozhiyu/tampermonkeyjs/
// ==/UserScript==
 
//greasyfork: https://greasyfork.org/zh-CN/scripts/401115
/*超星的另一个辅助，在这里：https://greasyfork.org/zh-CN/scripts/403935*/
/*
 * 更新:
 * V0.3.8
 * 删除无用的插件（fundebug）。。。捕捉到的全都是别人的错误。。。
 * 新增H5toast提醒（设置里可以选择开关）
 * 对部分流程进行更改，使其更加规范
 * V0.3.7
 * 修复接入插件的部分bug，
 * 限制上传数据的内容（均不涉及隐私）
 * 默认开启异常上传，如果不需要上传异常，
 *     请搜索【mydebugger(){】
 *     并在下一行加入【return;】即可
 *
 * V0.3.6
 * 接入fundebug后台，出现异常/报错自动上传并通知我
 *
 * V0.3.5
 * 新增超星的随机刷新（减少浏览器同时请求卡顿）
 * 对于超星签到循环改为动态加载，增加稳定性
 * 修复腾讯课堂网络异常报错的问题（当前为强制刷新）
 * 新增腾讯课堂部分直播时有播放按钮的自动播放
 * 新增对于腾讯课堂报错后自动延时刷新的支持
 * 修改部分逻辑，增加代码的稳定性
 
 * V0.3.4
 * 修复对于超星界面更新的更新
 * 修复对于超星和腾讯课堂不同界面的适配
 * 新增超星的动画（虽然没啥用）
 * 精简代码，优化部分流程。
 * 修复腾讯课堂连续一开始连续相同回复异常
 * 加入自动回复人工智能（人工智障），智能判断是否相同
 *
 * V0.3.3
 * 超星的界面变了。。。脚本也要跟着改（气哭.gif）
 *
 * V0.3.2
 * 【给腾讯课堂填坑！】增加腾讯课堂自动检测、刷新（js混淆、平坦化（AST），恶心的要吐）
 * 对腾讯课堂播放页面增加判断，录播（回放）不显示脚本，减小系统负担
 * 顺便修复了复读机log显示错误的bug以及仅有一条时特殊显示
 *
 * V0.3.1
 * 修复了严重逻辑bug！请更新！
 *
 * V0.3.0
 * 其实就是0.2.10....
 * 不过不知道为啥不能正常更新。。。刷个版本试试？
 *
 * V0.2.10
 * 修复之前数字显示异常的bug
 * 优化了代码，使其更加规范，执行效率更高，可靠性更强（不是依赖本脚本的原因）
 * 修复复读机的一些bug（已经可以正式使用了）
 * 修复了重定向按钮显示、点击不正常
 *
 * V0.2.9
 * 增加对于部分页内播放器重定向到全屏播放的重定向按钮（暂未考虑自动重定向）
 * （测试功能）回复复读机，指定连续x条回复，自动回复，
 * 增加回复黑名单（防止重复回复）
 * 改善页面的动画，看起来更流畅，更美观
 * 修复对于签到、辅助等连续成功后数字不增加的bug
 * 还有若干。。。想不起来了
 *
 * V0.2.8
 * 辅助作答后播报和log中添加选择的选项
 * 修复了部分注释的历史遗留问题
 *
 * V0.2.7
 * 修复签到结束后不继续监视的bug
 *
 * V0.2.6
 * 修复签到等待时间小于1秒无法语音播报的bug
 *
 * V0.2.5
 * 修复了腾讯课堂监视配置读取错误的bug
 * 修复选择题的点击bug
 * 修复选择题点击后关闭窗口的bug
 * 修复多次调用点击事件的bug
 * 注：尚在测试中，请勿过度依赖本功能（脚本）
 *
 * V0.2.4
 * 修复了选择等待时间错误
 * 修复了TTS发音部分参数错误
 * 修复了插件更新设置后会多个线程同时执行的BUG
 * 如果有懂一点js，会js的朋友如果老师有发起选择题的时候给个样本或是解决方案呗
 * 我们这里都要结束了，都没有老师再发起选择题。。。
 * 此外还更新了啥我忘了。。。
 *
 * V0.2.3
 * 修复：腾讯课堂无法自动选择（好不容易老师发起一次我还错过了）
 * 修复更改设置后许刷新才生效的bug
 * 删除会引起错误的调试代码（对于脚本无影响）
 *
 * V0.2.2
 * 【重大更新】修复严重bug（凌晨两点果然脑子就不好了。。。。）
 * 增加了双击悬浮球回复默认设置
 *
 * V0.2.1
 * 【重大更新】增加插件设置界面，便于管理
 * 【重大更新】增加TTS语音播报功能
 * （默认开启，有需要请到支持的页面配置）
 * 剩余优化时间的显示
 * 优化算法和数据处理，增加插件的稳定性
 *
 * V0.1.2
 * 修复了已知bug（选择题功能尚未测试）
 *
 * V0.1.1
 * 修复了签到子页面无法自动刷新的bug
 *
 * V0.1.0
 * 删掉了我垃圾小站的图标（虽然用广告拦截器一拦截就好了。。。），去掉68行无用代码。。。
 * 把自定义参数放到开头，方便用户进行自定义修改（没有基础请勿修改其他部分！）
 *
 * 腾讯课堂部分：
 * 对签到适配更加精准，不会误点
 * 增加选择题的随机选择功能
 * （未经测试。。。。开启请慎重！）
 * （严重的bug倒不会至于。主要可能不是预期效果）
 *
 * 超星部分：
 * 对课程信息进行重新分组
 * 对签到的流程进行优化
 * 增加签到成功和特殊的签到类型的判断及弹窗提醒，下个版本考虑增加对于微信的对接（太麻烦，懒得，此外本人不看微信。。。。）
 *
 */
 
//个人小站：https://taozhiyu.gitee.io（虽然啥都没有。。。）
//吾爱主页：https://www.52pojie.cn/home.php?mod=space&uid=879080
//CSDN主页：https://blog.csdn.net/weixin_44352049（虽然也是啥都没有）
//使用说明：https://greasyfork.org/zh-CN/scripts/401115
//吾爱说明：https://www.52pojie.cn/thread-1163575-1-1.html
//CSDN说明：https://blog.csdn.net/weixin_44352049/article/details/106031114

!function(){"use strict";let n={},t={a:!0,b:5,c:7,d:!0,e:!0,f:30,g:20,h:!0,i:1e3,j:7,k:5e3,l:!0,m:!0,n:-20,o:!0};var e=0,o=0,i=0,a="",l=0;Promise.all([GM_getValue("CXAndTXKTConfig")]).then(function(r){if(void 0!==r[0])try{n=JSON.parse(r[0])}catch(t){n=r[0]}else n=t;for(var c in t)void 0===n[c]&&(n[c]=t[c]);!function(){var r=function(t,e,o=6.5){return n.o?(window.Notification?Notification.requestPermission(function(n){if("granted"===n){var i=new Notification(t,{body:e});i.onshow=function(){setTimeout(i.close.bind(i),1e3*o)}}else"denied"===Notification.permission?alert("\u901a\u77e5\u88ab\u7981\u6b62\uff0c\u8bf7\u5141\u8bb8\u901a\u77e5\uff01\n\n\u5982\u679c\u4e0d\u9700\u8981toast\u5f39\u7a97\uff0c\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u5173\u95ed\u5f39\u7a97\u63d0\u9192\uff01"):alert("\u8bf7\u5141\u8bb8\u901a\u77e5\uff01\n\n\u5982\u679c\u4e0d\u9700\u8981toast\u5f39\u7a97\uff0c\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u5173\u95ed\u5f39\u7a97\u63d0\u9192\uff01")}):alert("\u4f60\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301\uff01\uff0c\u8bf7\u5728\u8bbe\u7f6e\u4e2d\u5173\u95ed\u5f39\u7a97\u63d0\u9192\uff01"),!0):(console.log("\u6d4f\u89c8\u5668\u5f39\u7a97\u5df2\u5173\u95ed"),!1)};if(location.href.match(/ke.qq.com\/course/)){var c="";return void $(document).ready(function(){var n=!1,t=document.createElement("a");function e(){location.href=c}function o(){var t=setInterval(function(){var o=document.querySelector("#js-study-video");if(o)try{var i=o.src.toString().match(/cid=\d+/),a=o.src.toString().match(/term_id=\d+/),l=o.src.toString().match(/taid=\d+/);null!==i&&null!==a&&null!==l&&(c="https://ke.qq.com/webcourse/index.html#cid="+i[0].match(/\d+/)[0]+"&term_id="+a[0].match(/\d+/)[0]+"&taid="+l[0].match(/\d+/)[0],$("#modle302").css("display",""),$("#modle302").on("click",e),n||(r("\u52a0\u8f7d\u5b8c\u6210","\u9875\u9762\u4fe1\u606f\u52a0\u8f7d\u5b8c\u6210\uff0c\n\u53ef\u4ee5\u70b9\u51fb\u3010\u91cd\u5b9a\u5411\u3011\u6309\u94ae\u8df3\u8f6c"),n=!0),clearInterval(t))}catch(n){console.error("\u672a\u77e5\u9519\u8bef\uff01\n\u8bf7\u590d\u5236\u9519\u8bef\u4fe1\u606f\u63d0\u4ea4\u53cd\u9988====>>\n\n",n)}},500)}t.id="modle302",t.title="\u70b9\u51fb\u91cd\u5b9a\u5411",t.innerHTML="\u70b9\u51fb\u91cd\u5b9a\u5411",t.style="background: red;color: white;border: blue double;cursor: pointer;display:none",$(".course-title > h3")[0].appendChild(t),$(".js-task-item.task-item").each(function(t){$(this).on("click",function(){o(),$("#modle302").off("click",e),$("#modle302").css("display","none"),n=!1})}),o()})}var s=0;function d(t=!1){t||top.location!=self.location||console.log("%c\u3010\u8bed\u97f3\u64ad\u62a5\u3011%c\u529f\u80fd\u5df2%c%s","color:red","color:black",n.a?"background-color:green;color:white;":"background-color:red;color:white;",n.a?"\u5f00\u542f":"\u5173\u95ed"),t&&null!==location.href.match(/chaoxing\.com\/space/)?$("#frame_content")[0].contentWindow.location.reload():(null!==location.href.match(/visit\/interaction/)&&(t?window.location.reload():window.onload=function(){!function(t=!0){if(!n.d)return void console.log("%c\u3010\u8d85\u661f\xb7\u4e3b\u9875\u7b7e\u5230\u3011%c\u529f\u80fd\u5df2%c\u5173\u95ed","color:red","color:black","background-color:red;color:white;");console.log("%c\u3010\u8d85\u661f\xb7\u4e3b\u9875\u7b7e\u5230\u3011%c\u529f\u80fd\u5df2%c\u5f00\u542f","color:red","color:black","background-color:green;color:white;");var e=Number(n.f),o=(parseInt(e/60)?parseInt(e/60)+"\u5206\u949f":"")+(parseInt(e%60)?parseInt(e%60)+"\u79d2":"");console.group("$$\u8bfe\u7a0b\u4fe1\u606f$$\uff08\u70b9\u6211\u6536\u8d77/\u5c55\u5f00\uff09"),console.log("\u4e00\u5171\u6709%c"+$(".courseItem.curFile").length+"%c\u95e8\u8bfe\u7a0b:","color:blue","color:black"),window.T2S("\u7b7e\u5230\u63d2\u4ef6\u5f00\u542f\uff0c\u4e00\u5171\u6709"+$(".courseItem.curFile").length+"\u95e8\u8bfe\u7a0b\u3002\u4e2d\u5fc3\u76d1\u89c6\u65f6\u957f\uff0c"+o+(n.e?",\u5141\u8bb8":"\u4e0d\u5141\u8bb8")+"\u968f\u673a\u6b63\u8d1f5\u79d2\u8303\u56f4\u5185\u504f\u79fb\u3002"),r("\u8d85\u661f\u7b7e\u5230\u811a\u672c\u5f00\u542f\u6210\u529f","\u4e00\u5171\u6709"+$(".courseItem.curFile").length+"\u95e8\u8bfe\u7a0b\u3002\n\u4e2d\u5fc3\u76d1\u89c6\u65f6\u957f\uff0c"+o+"\n"+(n.e?",\u5141\u8bb8":"\u4e0d\u5141\u8bb8")+"\u968f\u673a\u6b63\u8d1f5\u79d2\u8303\u56f4\u5185\u504f\u79fb\u3002");var i=0;t&&$(".courseItem.curFile").each(function(n,t){setTimeout(function(){n+=1;var e=t.children[3].children[0].children[0].innerText,o=t.children[0].value,a=t.children[1].value;console.log("No\t%s:\n\u4e13\u4e1a:%c%s\n%ccourseID:%c"+o+"\n%cclassID\u4e3a\uff1a%c"+a,n,"color:red",e,"color:black","color:red","color:black","color:red");var l="http://mobilelearn.chaoxing.com/widget/pcpick/stu/index?courseId="+o+"&coursename="+btoa(encodeURIComponent(e))+"&jclassId="+a,r=document.createElement("iframe");r.id="loginframe_"+o,r.src=l,r.style="display:none;width: 0px;height: 0px;position: fixed;left: 0px;bottom: 0px;z-index: -99;",$("body")[0].append(r),i=n},10)});var a=setInterval(function(){i==$(".courseItem.curFile").length&&(console.groupEnd("$$\u8bfe\u7a0b\u4fe1\u606f$$\uff08\u70b9\u6211\u6536\u8d77/\u5c55\u5f00\uff09"),clearInterval(a))},10)}(!0)}),null!==location.href.match(/mobilelearn/)&&function(){if(!n.d)return;var t=0;n.e?(t=Number(n.f),e=t-5,o=t+5,t=Math.floor(Math.random()*(o-e)+e)-1):t=Number(n.f);var e,o;t<=1&&(t=5);var i=(parseInt(t/60)?String(parseInt(t/60))+"\u5206\u949f":"")+(String(parseInt(t%60))?String(parseInt(t%60))+"\u79d2":"");t*=1e3;var a="";try{a=location.href.match(/coursename=[A-Za-z0-9/\+=]+/g)[0].substring(11)}catch(n){}var l=location.href.match(/tao_auto_refresh_time=\d+/g),c=Number(n.g);l=Number(null===l?0:l[0].match(/\d+/g)[0]),l++;try{if(0!==$(".qdhover").length){var s=$(".qdhover").parent().parent().parent()[0].getAttributeNode("onclick").nodeValue.match(/\d+/g);if(2==s[1]){var d=s[0],g=$("#courseId").val(),u=$("#classId").val(),m=$("#fid").val(),T="/widget/sign/pcStuSignController/signIn?activeId="+d+"&classId="+u+"&coursename="+a+"&fid="+m+"&courseId="+g,f=document.createElement("iframe");f.id="loginframe",f.src=T,f.style="display:none;width: 0px;height: 0px;position: fixed;left: 0px;bottom: 0px;z-index: -99;",$("body")[0].append(f),$("#loginframe").load(function(){""!==window.frames[0].$("title")[0].text.match("\u6210\u529f")?top.location==self.location?(window.T2S("\u5f53\u524d\u8bfe\u7a0b\uff0c\u7b7e\u5230\u6210\u529f"),r("\u8d85\u661f\u7b7e\u5230\uff01","\u5f53\u524d\u8bfe\u7a0b\uff0c\u7b7e\u5230\u6210\u529f"),console.log("%c\u3010\u5f53\u524d\u8bfe\u7a0b\u3011\u7b7e\u5230\u6210\u529f!","color:white;font-size:30px;background-color:green"),$(".qdhover").parent().parent().parent().children().children()[1].innerHTML+="<font style='color:white;font-size:30px;background-color:green;line-height: 30px;'> \u7b7e\u5230\u6210\u529f\uff01</font>",$(this).remove()):(window.T2S(v(a)+"\uff0c\u7b7e\u5230\u6210\u529f"),console.log("%c\u3010%s\u3011\u7b7e\u5230\u6210\u529f!","color:white;font-size:30px;background-color:green",v(a))):(r("\u8d85\u661f\u7b7e\u5230\uff01","\u672a\u77e5\u9519\u8bef\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01")||alert("\u672a\u77e5\u9519\u8bef\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01"),window.T2S("\u672a\u77e5\u9519\u8bef\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01"))})}else r("\u8b66\u544a\uff01\u7b7e\u5230\u6a21\u5f0f\u4e0d\u652f\u6301\uff01","\u3010"+top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a)+"\u3011\n\u51fa\u73b0\u975e\u652f\u6301\u7b7e\u5230\u6a21\u5f0f\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01\uff01\uff01",60)||alert("\u3010"+top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a)+"\u3011\u51fa\u73b0\u975e\u652f\u6301\u7b7e\u5230\u6a21\u5f0f\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01\uff01\uff01"),window.T2S(top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a)+",\u51fa\u73b0\u975e\u652f\u6301\u7b7e\u5230\u6a21\u5f0f\uff01\u8bf7\u624b\u52a8\u7b7e\u5230\uff01\uff01\uff01")}else{if(c&&l>=c)return window.T2S(top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a)+"\u5df2\u8fbe\u5c1d\u8bd5\u4e0a\u9650"+String(c)+"\u6b21\uff0c\u5df2\u505c\u6b62"),void console.log("%c\u3010%s\u3011%c\u5df2\u8fbe\u5c1d\u8bd5\u4e0a\u9650%s\u6b21\uff0c\u5df2\u505c\u6b62","color:red",top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a),"color:black",String(c));console.log("%c\u3010%s\u3011%c\u7b2c"+String(l)+"\u6b21\u5c1d\u8bd5\uff0c\n\u6682\u65e0\u7b7e\u5230\u4efb\u52a1\uff0c%s\u540e\u81ea\u52a8\u518d\u6b21\u5c1d\u8bd5","color:red",top.location==self.location?"\u5f53\u524d\u8bfe\u7a0b":v(a),"color:black",i),setTimeout(function(){window.location.href=location.href.indexOf("tao_auto_refresh_time")>-1?location.href.replace(new RegExp("tao_auto_refresh_time=\\d+","g"),"tao_auto_refresh_time="+l):location.href+(location.href.indexOf("?")>-1?"&":"?")+"tao_auto_refresh_time="+l},t)}}catch(n){console.log(n)}}(),null!==location.href.match(/ke.qq.com/)&&top.location==self.location&&(t?x():window.onload=function(){x()}))}function g(){s&&(clearTimeout(s),s=0),GM_setValue("CXAndTXKTConfig",JSON.stringify(n)),s=setTimeout(function(){r("\u8bbe\u7f6e\u66f4\u65b0\u901a\u77e5","\u8bbe\u7f6e\u66f4\u65b0\u6210\u529f\uff0c\u5df2\u91cd\u65b0\u52a0\u8f7d"),d(!0)},3e3)}function u(){return"<div id='AutoSignSettingIcon' title='\u53cc\u51fb\u6e05\u9664\u5df2\u6709\u8bbe\u7f6e'></div>\n<div class='TaoMain'>\n<div class='TaoTotal'>\n<fieldset id='fieldsetAll'>\n<legend style='text-align: right;'><a style='color:#188eee;' href='https://greasyfork.org/zh-CN/scripts/401115'>\u6d9b\u4e4b\u96e8\u5236\u4f5c|\u524d\u5f80\u811a\u672c\u53d1\u5e03\u5730\u5740</a>\n</legend>\n<fieldset>\n<legend title='\u767e\u5ea6\u8bed\u97f3TTS\u63a5\u5165,\u8bed\u97f3\u548c\u5f39\u7a97\u63d0\u9192\u8bbe\u7f6e'>  <font class='SettingTitle'>\u63d0\u9192\u76f8\u5173\u8bbe\u7f6e</font>\n</legend>\n<ul class='Setting_ul'>\n<li class='Setting_Choice'>\n<label style='height: 20px;' title='\u662f\u5426\u5f00\u542f\u8bed\u97f3\u63d0\u9192\u529f\u80fd(\u63a8\u8350\u5f00\u542f)'>\u5f00\u542f TTS\n<input id='TTS_IsOpen' type='button' class='Setting_input Setting_btn "+(n.a?"Setting_On":"Setting_Off")+"'>\n</label>\n<label style='height: 20px;' title='\u662f\u5426\u5f00\u542f\u91cd\u8981\u6d88\u606f\u5f39\u7a97\u529f\u80fd(\u63a8\u8350\u5f00\u542f\uff0c\u9700\u8981\u5141\u8bb8\u6743\u9650)'>\u5f00\u542f\u5f39\u7a97\n<input id='SYSTEM_ALERT_ISOPEN' type='button' class='Setting_input Setting_btn "+(n.o?"Setting_On":"Setting_Off")+"'>\n</label>\n</li>\n</ul>\n<div id='TTS_div'>\n<ul class='Setting_ul'>\n<li>\n<label title='\u8303\u56f4:[0,9],5\u4e3a\u4e2d\u901f'>TTS \u8bed\u901f\n<input class='Setting_input' id='TTS_Speed' type='number' max='9' min='0' value='"+n.c+"'>\n</label>\n</li>\n</ul>\n<ul class='Setting_ul'>\n<li>\n<label title='\u8303\u56f4:[0,15],5\u4e3a\u4e2d\u97f3\u91cf'>TTS \u97f3\u91cf\n<input class='Setting_input' id='b' type='number' max='15' min='0' value='"+n.b+"'>\n</label>\n</li>\n</ul>\n</div>\n</fieldset>\n"+(null!==location.href.match(/chaoxing\.com/)?"<fieldset>\n<legend title='\u8d85\u661f\u5b66\u4e60\u901a\u7684\u76f8\u5173\u529f\u80fd,\u5982\u81ea\u52a8\u7b7e\u5230,\u5ef6\u65f6,\u68c0\u6d4b\u7b49'><font class='SettingTitle'>\u8d85\u661f \u8bbe\u7f6e</font>\n</legend>\n<ul class='Setting_ul'>\n<li class='Setting_Choice'>\n<label title='\u662f\u5426\u5f00\u542f\u81ea\u52a8\u7b7e\u5230\u529f\u80fd(\u63a8\u8350\u5f00\u542f)'>\u81ea\u52a8\u7b7e\u5230\n<input id='CX_IsOpen' type='button' class='Setting_input Setting_btn "+(n.d?"Setting_On":"Setting_Off")+"'>\n</label>\n<label title='\u7b7e\u5230\u5237\u65b0\u968f\u673a\u5ef6\u65f6\xb15\u79d2(\u63a8\u8350\u5f00\u542f\uff0c\u4ee5\u9632\u540c\u65f6\u52a0\u8f7d\u8fc7\u591a\u7684\u9875\u9762\u5bfc\u81f4\u5361\u987f)\uff08\u6d4b\u8bd5\u529f\u80fd\uff09'>\u968f\u673a\u5ef6\u65f6\n<input id='CX_IsRandomWaiting' type='button' class='Setting_input Setting_btn "+(n.e?"Setting_On":"Setting_Off")+"'>\n</label>\n</li>\n</ul>\n<div>\n<ul class='Setting_ul'>\n<li>\n<label title='\u6bcf\u9694\u591a\u957f\u65f6\u95f4\u76d1\u89c6\u4e00\u6b21'>\u76d1\u89c6\u65f6\u95f4\n<input class='Setting_input' id='CX_WaitingTime' type='number' min='1' value='"+n.f+"'>\u79d2</label>\n</li>\n</ul>\n<ul class='Setting_ul'>\n<li>\n<label title='\u6700\u5927\u68c0\u6d4b\u6b21\u6570,\u8d85\u8fc7\u9650\u5236\u505c\u6b62\u3002\u503c\u4e3a0\u5219\u65e0\u9650\u5236'>\u6700\u591a\u68c0\u6d4b\n<input class='Setting_input' id='CX_MaxWaitingCount' type='number' min='0' value='"+n.g+"'>\u6b21</label>\n</li>\n</ul>\n</div>\n</fieldset>\n</fieldset>\n</div>\n</div>":"<fieldset>\n<legend title='\u56de\u590d\u590d\u8bfb\u673a\u8bbe\u7f6e'><font class='SettingTitle'>\u817e\u8baf\u8bfe\u5802\u590d\u8bfb\u673a \u8bbe\u7f6e</font>\n</legend>\n<ul class='Setting_ul'>\n<li class='Setting_Choice'>\n<label style='height: 20px;' title='\u662f\u5426\u5f00\u542f\u56de\u590d\u590d\u8bfb\u673a\uff0c\u5f00\u542f\u540e\u5982\u679c\u590d\u8bfb\u5b8c\u81ea\u52a8\u52a0\u5165\u9ed1\u540d\u5355\uff0c\u9632\u6b62\u91cd\u590d\u53d1\u9001\uff0c\u5e76\u4e14\u7b49\u5f8510\u79d2\u540e\u91cd\u65b0\u5f00\u59cb\u68c0\u6d4b'>\u56de\u590d\u590d\u8bfb\n<input id='TXKT_Repeater_IsOpen' type='button' class='Setting_input Setting_btn "+(n.h?"Setting_On":"Setting_Off")+"'>\n</label>\n</li>\n</ul>\n<div>\n<ul class='Setting_ul'>\n<li>\n<label title='\u68c0\u6d4b\u76f8\u540c\u6570\u636e\u7684\u65f6\u95f4'>\u68c0\u6d4b\u65f6\u95f4\n<input class='Setting_input' id='TXKT_Repeater_WaitingTime' type='number' value='"+n.i+"'>\u6beb\u79d2</label>\n</li>\n</ul>\n<ul class='Setting_ul'>\n<li>\n<label title='\u8fde\u7eed\u591a\u5c11\u53e5\u7684\u65f6\u5019\u89e6\u53d1\u590d\u8bfb'>\u68c0\u6d4b\u6570\u91cf\n<input class='Setting_input' id='TXKT_Repeater_MaxWaitingCount' type='number' value='"+n.j+"'>\u53e5</label>\n</li>\n</ul>\n</div>\n</fieldset>\n<fieldset>\n<legend class='SettingTitle' title='\u817e\u8baf\u8bfe\u5802\u81ea\u52a8\u8f85\u52a9\u7b54\u9898,\u968f\u673a\u9009\u62e9,\u8f85\u52a9\u7684\u65f6\u673a\u7b49\u8bbe\u7f6e'> <font>\u817e\u8baf\u8bfe\u5802 \u8bbe\u7f6e</font>\n</legend>\n<ul class='Setting_ul'>\n<li>\n<label title='\u7b7e\u5230\u7684\u76d1\u89c6\u65f6\u95f4,\u53ef\u4ee5\u586b\u7406\u8bba\u4efb\u610f\u6570\u503c\u3002\uff08\u56e0\u4e3a\u4e0d\u4f1a\u53d1\u751f\u591a\u5c42\u540c\u65f6\u51fa\u73b0\uff0c\u53ef\u4ee5\u8003\u86511000\u6beb\u79d2\uff09'>\u7b7e\u5230\u76d1\u89c6\n<input id='TXKT_Signing_WaitingTime' class='Setting_input' type='number' min='0' value='"+n.k+"'>\u6beb\u79d2</label>\n</li>\n</ul>\n<div>\n<ul class='Setting_ul'>\n<li class='Setting_Choice'>\n<label title='\u662f\u5426\u5f00\u542f\u8f85\u52a9\u4f5c\u7b54\u529f\u80fd'>\u8f85\u52a9\u4f5c\u7b54\n<input type='button' id='TXKT_Ansering_IsOpen' class='Setting_input Setting_btn "+(n.l?"Setting_On":"Setting_Off")+"'>\n</label>\n<label title='\u662f\u5426\u5f00\u542f\u968f\u673a\u9009\u62e9\u9009\u9879\u529f\u80fd(\u5982\u5173\u95ed\u5219\u6bcf\u6b21\u90fd\u9009\u62e9\u7b2c\u4e00\u4e2a\u9009\u9879)'>\u968f\u673a\u9009\u62e9\n<input id='TXKT_Ansering_IsRandom' type='button' class='Setting_input Setting_btn "+(n.m?"Setting_On":"Setting_Off")+"'>\n</label>\n</li>\n</ul>\n<ul class='Setting_ul'>\n<li>\n<label title='\u8f85\u52a9\u4f5c\u7b54\u7684\u65f6\u95f4,\u6574\u6570\u4e3a\u7b49\u5f85\u9009\u62e9\u65f6\u957f\u540e\u4f5c\u7b54,\u8d1f\u6570\u4e3a\u5012\u8ba1\u65f6\u5269\u4f59\u586b\u5165\u65f6\u957f\u7684\u65f6\u4f5c\u7b54'>\u4f5c\u7b54\u65f6\u673a\n<input class='Setting_input' id='TXKT_Ansering_WaitingTime' type='number' value='"+n.n+"'>\u79d2</label>\n</li>\n</ul>\n</div>\n</fieldset>\n</fieldset>\n</div>\n</div>")}var m=0,T=0,f=0,p=0,_=0,S=0,b=0;function h(){_&&(clearTimeout(_),_=0),_=setTimeout(function(){$(".TaoTotal").css("opacity",1);var n=setInterval(function(){if(!S||!b)return clearTimeout(_),clearInterval(n),_=0,$(".TaoTotal").css("opacity",1),void setTimeout(function(){h()},1e3);$(".TaoTotal").css("opacity",Number($(".TaoTotal").css("opacity"))-.01),Number($(".TaoTotal").css("opacity"))<=.1&&(clearInterval(n),$(".TaoTotal").css("opacity",0),$("#AutoSignSettingIcon").css("-webkit-transform"," rotate(0deg)").css("-ms-transform"," rotate(0deg)").css("transform"," rotate(0deg);").css("top",""),$(".TaoTotal").css("display","none"))},10)},800)}top.location==self.location&&$(document).ready(function(){GM_addStyle("\n#preloading, #react-body,.headbanner_new,.wrap1200.clearfix,#to_top,.foot{\n-webkit-transition:.7s filter;\n-o-transition:.7s filter;\n-moz-transition:.7s filter;\ntransition:.7s filter;\n}\n.TaoMain{\ncolor:aliceblue;\n}\n#AutoSignSettingIcon {\nposition: fixed;\nleft: 50%;\ntop: -48px;\nmargin-left: -132px;\nz-index: 99999999999;\nbackground-size: 100% 100%;\n-webkit-box-sizing: border-box;\nbox-sizing: border-box;\n-webkit-transition: 0.7s;\n-webkit-transition-delay: 0.2s;\n-o-transition: 0.7s;\n-o-transition-delay: 0.2s;\ntransition: 0.7s;\ntransition-delay: 0.2s;\npadding: 0;\ncursor: pointer;\nwidth: 60px;\nheight: 60px;\nborder: 4px solid #00bdff96;\nborder-radius: 50%;\nbackground: url('https://i.loli.net/2020/05/07/6xDftH98IO15MoF.png') no-repeat center center;\n-webkit-transform: rotate(0deg);\n-ms-transform: rotate(0deg);\ntransform: rotate(0deg);\n}\n.Setting_ul {\nmargin: 5px;\n}\n.Setting_btn {\nborder-radius: 50%;\nwidth: 20px;\nheight: 20px;\nborder: none;\n}\n.Setting_On {\nbackground-color: green;\n}\n.Setting_Off {\nbackground-color: red;\n}\n.TaoMain{\nz-index: 9999999999;\nposition: fixed;\ntop: 65px;\nleft: 50%;\n}\n.TaoTotal {\n-webkit-box-sizing: border-box;\nbox-sizing: border-box;\nmin-width:264px;\nopacity:0;\nmargin-left: -132px;\ndisplay:none;\nborder-radius: 3px;\nborder: 1px solid #A0A0A0;\n-webkit-box-shadow: -2px 2px 5px rgba(0,0,0,0.3);\nbox-shadow: -2px 2px 5px rgba(0,0,0,0.3);\nbackground:rgba(0,0,0,0.8);\nwidth: -webkit-fit-content;\nwidth: -moz-fit-content;\nwidth: fit-content;\npadding: 15px;\noverflow-y:hidden ;\n}\n.TaoTotal>fieldset {\nmargin: auto;\ndisplay: -webkit-box;\ndisplay: -ms-flexbox;\ndisplay: flex;\n-webkit-box-orient: vertical;\n-webkit-box-direction: normal;\njustify-content: space-around;\n-ms-flex-direction: column;\nflex-direction: column;\n-ms-flex-pack: distribute;\nitems-align: center;\nmargin: auto;\n}\n.SettingTitle {\nfont-size: 15px;\n-webkit-transition: 0.5s;\n-o-transition: 0.5s;\ntransition: 0.5s;\n}\n#fieldsetAll>fieldset:hover>div {\n-o-transition: height 0.5s;\ntransition: height 0.5s;\n-webkit-transition: height 0.5s;\nheight: 55px;\n}\n#fieldsetAll{\nmax-height: 403px;\noverflow-y:hidden ;\n}\nfieldset{\npadding: .35em .625em .75em;\nborder: 1px solid silver;\n}\n#fieldsetAll>fieldset>div {\n-o-transition: height 0.5s;\n-o-transition-delay: 0.5s;\ntransition: height 0.5s;\ntransition-delay: 0.5s;\n-webkit-transition: height 0.5s;\n-webkit-transition-delay: 0.5s;\nheight: 0;\noverflow: hidden;\n}\n.SettingTitle:hover {\ncolor: red;\nfont-size: 18px;\ncursor: help;\n-webkit-transition: 0.7s;\n-webkit-transition-duration: 0.7s;\n-o-transition: 0.7s;\n-o-transition-duration: 0.7s;\ntransition: 0.7s;\ntransition-duration: 0.7s;\n}\n.Setting_Choice>label {\nmargin: auto;\n}\ninput.Setting_input {\ntext-align: center;\n-moz-text-align-last: center;\ntext-align-last: center;\nmargin: 0 2px;\nvertical-align: middle;\n}\ninput.Setting_input[type=\"number\"] {\nwidth: 70px;\ncolor:blue;\n}\n#fieldsetAll>fieldset {\nmargin: 5px;\n}\nhr.MyScript {\nmargin: 0 auto;\nborder: groove;\n}\n#react-body{\ntransition: .2s filter;\nfilter:none;\n}\n#AutoSignSettingFrame{\nfont-size: 14px;\nline-height: 1.5;\nfont-family: system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Droid Sans,Helvetica Neue,Microsoft YaHei UI,Microsoft YaHei,Hiragino Sans GB,Source Han Sans CN,Fira Sans,arial,sans-serif;\n}\n"),function e(){if(null!==document.body&&null===document.querySelector("#AutoSignSettingFrame")){let o=document.createElement("div");o.id="AutoSignSettingFrame",o.innerHTML=u(),document.body.appendChild(o),$("#AutoSignSettingIcon").on("mouseover",function(n){S=0,$("#AutoSignSettingIcon").css("-webkit-transform"," rotate(180deg)").css("-ms-transform"," rotate(180deg)").css("transform"," rotate(180deg);").css("top",0),setTimeout(function(){$(".TaoTotal").css("display","block");var n=setInterval(function(){$(".TaoTotal").css("opacity",Number($(".TaoTotal").css("opacity"))+.01),Number($(".TaoTotal").css("opacity"))>=1&&(clearInterval(n),$(".TaoTotal").css("opacity",1))},10)},700)}),$("#AutoSignSettingIcon").on("mouseout",function(n){S=1,h()}),$(".TaoTotal").on("mouseover",function(n){b=0,null!==location.href.match(/chaoxing\.com/)?$(".wrap1200.clearfix,.headbanner_new,#to_top,.foot").css("filter","blur(10px)"):$("#preloading,#react-body").css("filter","blur(10px)")}),$(".TaoTotal").on("mouseout",function(n){b=1,h(),null!==location.href.match(/chaoxing\.com/)?$(".wrap1200.clearfix,.headbanner_new,#to_top,.foot").css("filter","none"):$("#preloading,#react-body").css("filter","none")}),$("#SYSTEM_ALERT_ISOPEN").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.o=e,g()}),$("#TTS_IsOpen").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.a=e,g(),p&&clearTimeout(p),p=setTimeout(function(){window.T2STEST()},1e3)}),$("#TTS_Volce").on("input",function(t){var e=Number(t.target.value);e=e>15?15:e<0?0:e,n.b=e,$("#TTS_Volce").val(e),g(),p&&clearTimeout(p),p=setTimeout(function(){window.T2STEST()},1e3)}),$("#TTS_Speed").on("input",function(t){var e=Number(t.target.value);e=e>9?9:e<0?0:e,n.c=e,$("#TTS_Speed").val(e),g(),p&&clearTimeout(p),p=setTimeout(function(){window.T2STEST()},1e3)}),null!==location.href.match(/chaoxing\.com/)?($("#CX_IsOpen").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.d=e,g()}),$("#CX_IsRandomWaiting").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);if(e){var o=confirm("\u8fd9\u662f\u4e00\u4e2a\u6d4b\u8bd5\u7684\u9009\u9879\uff0c\u8bf7\u8c28\u614e\u6253\u5f00\u5f00\u5173\uff0c\n\u5982\u679c\u5f02\u5e38\u8bf7\u6253\u5f00console\u63a7\u5236\u53f0\uff0c\u5e76\u628a\u62a5\u9519\u7684\u5185\u5bb9\u53cd\u9988\u5230\u63d2\u4ef6\u7684\u4e3b\u9875\uff08\u53f3\u4e0a\u89d2\u6709\u94fe\u63a5\uff09\n\u4f60\u786e\u5b9a\u8981\u6253\u5f00\u4e48\uff1f");if(!o)return}$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.e=e,g()}),$("#CX_WaitingTime").on("input",function(t){n.f=Number(t.target.value),g()}),$("#CX_MaxWaitingCount").on("input",function(t){n.g=Number(t.target.value),g()})):($("#TXKT_Signing_WaitingTime").on("input",function(t){n.k=Number(t.target.value),g()}),$("#TXKT_Ansering_IsRandom").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.m=e,g()}),$("#TXKT_Ansering_IsOpen").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.l=e,g()}),$("#TXKT_Ansering_WaitingTime").on("input",function(t){n.n=Number(t.target.value),g()}),$("#TXKT_Repeater_IsOpen").on("click",function(t){var e=!$(t.target).attr("class").match(/Setting_On/g);$(t.target).addClass(e?"Setting_On":"Setting_Off"),$(t.target).removeClass(e?"Setting_Off":"Setting_On"),n.h=e,g()}),$("#TXKT_Repeater_WaitingTime").on("input",function(t){n.i=Number(t.target.value),g()}),$("#TXKT_Repeater_MaxWaitingCount").on("input",function(t){n.j=Number(t.target.value),g()})),$("#AutoSignSettingIcon").on("dblclick",function(o){return!!window.confirm("\u4f60\u786e\u5b9a\u8981\u5220\u9664\u5df2\u6709\u8bbe\u7f6e\u5417\uff1f")&&(n=t,g(),r("\u8bbe\u7f6e\u6e05\u7406","\u6e05\u9664\u6210\u529f\uff01\u5373\u523b\u751f\u6548"),e(),!0)})}else document.getElementById("AutoSignSettingFrame").innerHTML=u()}()});function v(n){return decodeURIComponent(atob(n))}function x(){if(0!==$(".ke_loading").length)return console.log("\u7b49\u5f85\u52a0\u8f7d\u5b8c\u6210"),void setTimeout(function(){x()},2e3);if(0!==$(".im-dialog-bd-msg").length)return console.log("\u9519\u8bef\uff01\n"+$(".im-dialog-bd-msg").text()),l=0,void window.location.reload();if(null===location.href.match(/vid=\d+/)){if(null!==$(".ke_overlay")&&0!==$(".ke_overlay").length)return l>=10?(r("\u76f4\u64ad\u68c0\u6d4b\u5f00\u542f","\u672a\u68c0\u6d4b\u5230\u76f4\u64ad\u6d88\u606f\uff0c\n\u5f00\u59cb\u68c0\u6d4b\u76f4\u64ad\u670d\u52a1\u5668\u72b6\u6001\uff01"),void setTimeout(function n(){if(self.fetch)try{var t=location.href.match(/cid=\d+/)[0].match(/\d+/)[0],e=location.href.match(/term_id=\d+/)[0].match(/\d+/)[0];fetch("https://ke.qq.com/cgi-bin/pubAccount/getLiveInfo?course_id="+t+"&term_id="+e,{method:"GET"}).then(function(n){return n.json()}).then(function(t){switch(t.result.offline_status){case 1:console.log("\u76f4\u64ad\u4e2d\uff01\u7acb\u5373\u5237\u65b0"),r("\u76f4\u64ad\u72b6\u6001\u66f4\u65b0\uff01","\u76f4\u64ad\u4e2d\uff01\u5373\u5c06\u5237\u65b0\uff01"),window.location.reload();break;case 2:console.log("\u76f4\u64ad\u7ed3\u675f\uff08\u6709\u53ef\u80fd\u662f\u672a\u5f00\u8bfe\uff09\uff0c\u7ee7\u7eed\u76d1\u89c6"),setTimeout(n,1e4);break;case 3:console.log("\u76f4\u64ad\u72b6\u6001\u9519\u8bef\uff0c\u5237\u65b0\u8bd5\u8bd5\uff1f\uff08\u5176\u5b9e\u6ca1\u5565\u7528\uff09"),window.location.reload();break;case 4:console.log("\u8001\u5e08\u7f51\u6302\u4e86\uff1f\u5c31\u7ee7\u7eed\u76d1\u89c6\u5457"),setTimeout(n,1e4)}}).catch(function(n){console.log("\u7f51\u7edc\u8bf7\u6c42\u9519\u8bef\uff01",n),console.log("5\u79d2\u540e\u5237\u65b0"),setTimeout(function(){window.location.reload()},5e3)})}catch(n){console.error("\u9519\u8bef\uff01\uff08\u6709\u53ef\u80fd\u662f\u94fe\u63a5\u4e0d\u5bf9\u53ed\uff09\u9519\u8bef\u4fe1\u606f==>"+n),setTimeout(function(){window.location.reload()},1e4)}else setTimeout(function(){window.location.reload()},1e4);return},1e4)):(l++,void setTimeout(function(){d(!0)},100));null!==$(".video-mask.video-play-btn")&&$(".video-mask.video-play-btn").click(),console.group("[%c\u817e\u8baf\u8bfe\u5802\u63d2\u4ef6%c\u5f00\u542f\u60c5\u51b5]","color:red;","color:black;"),n.k?(console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u81ea\u52a8\u7b7e\u5230\u3011%c\u529f\u80fd\u5df2%c\u5f00\u542f","color:red","color:black","background-color:green;color:white;"),setTimeout(function(){!function t(o=5e3){m&&clearInterval(m);m=setInterval(function(){try{0!==$(".tip").length&&$(".tip")[0].innerText.match(/\u7b7e\u5230/)&&void 0!==$(".btn-group")[0]&&(m&&clearInterval(m),$(".btn-group")[0].children[0].click(),setTimeout(function(){$(".btn-group")[0].children[0].click(),e++,window.T2S("\u81ea\u52a8\u7b7e\u5230\u63d2\u4ef6\uff0c\u7b7e\u5230\u6210\u529f\uff01\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u7b7e\u5230\uff0c"+String(e)+"\u6b21\u3002"),r("\u7b7e\u5230\u6210\u529f\uff01","\u81ea\u52a8\u7b7e\u5230\u63d2\u4ef6\uff0c\u7b7e\u5230\u6210\u529f\uff01\n\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u7b7e\u5230\uff0c"+String(e)+"\u6b21\u3002",60),console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\u81ea\u52a8\u7b7e\u5230\u63d2\u4ef6\u3011%c\n\u4e8e %s %c\u7b7e\u5230\u6210\u529f\uff01\n\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u7b7e\u5230%c"+String(e)+"\u6b21%c\uff01","color:white;background-color:blue;font-size:20px","color:red;font-size:20px",(new Date).toLocaleTimeString(),"color:black","color:red;font-size:20px","color:black"),t(Number(n.k))},500))}catch(n){}},o)}(Number(n.k))},1)):console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u81ea\u52a8\u7b7e\u5230\u3011%c\u529f\u80fd\u5df2%c\u5173\u95ed","color:red","color:black","background-color:red;color:white;"),n.l?(console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u8f85\u52a9\u4f5c\u7b54\u3011%c\u529f\u80fd\u5df2%c\u5f00\u542f","color:red","color:black","background-color:green;color:white;"),setTimeout(function(){t()},1)):console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u8f85\u52a9\u4f5c\u7b54\u3011%c\u529f\u80fd\u5df2%c\u5173\u95ed","color:red","color:black","background-color:red;color:white;"),n.h?(console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u81ea\u52a8\u590d\u8bfb\u3011%c\u529f\u80fd\u5df2%c\u5f00\u542f","color:red","color:black","background-color:green;color:white;"),setTimeout(function(){!function t(e=1e3,o=7){f&&(clearTimeout(f),f=0);function l(n=""){return n.replace(/\uff08|\uff09| |\u3001|\u3002|\uff0c"/g,function(n){return{"\uff08":"(","\uff09":")"," ":"","\u3001":"","\u3002":".","\uff0c":","}[n]})}var c=document.querySelectorAll(".js-chat-item-msg-content span");var s=0;var d=c.length-1;var g="";if(d+1>=o)try{for(;s<d&&l(c[d-s].innerHTML.trim())===l(c[d-1-s].innerHTML.toString().trim());){if(l(c[d-s].innerHTML.toString().trim())==l(a)){s=-2;break}s++}if(g=c[d].innerHTML.toString().trim(),s+1>=o){console.log("\u6709\u6548\u91cd\u590d\uff1a"+(s+1)+"\u6b21\n\u6709\u6548\u8bcd\uff1a\u201c"+g+"\u201d"),document.querySelector("div.ql-blank")||(document.querySelector(".ql-editor").innerHTML="");var u=setInterval(function(){try{document.querySelector("div.ql-blank").firstElementChild.innerHTML=g,clearInterval(u),setTimeout(function(){document.querySelector("button.text-editor-btn").click(),i++,console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u590d\u8bfb\u673a\u3011%c\n\u4e8e %s %c\u590d\u8bfb\u6210\u529f\uff01\n\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u590d\u8bfb%c"+String(i)+"\u6b21%c\uff01\n\u672c\u6b21\u590d\u8bfb\u5185\u5bb9\uff1a%c"+g,"color:white;background-color:blue;font-size:20px","color:red;font-size:20px",(new Date).toLocaleTimeString(),"color:black","color:red;font-size:20px","color:black","color:red;font-size:20px")},1e3)}catch(n){}},1);a=g,s=-3}}catch(n){console.error("\u672a\u77e5\u9519\u8bef\uff01\n\u8bf7\u590d\u5236\u9519\u8bef\u4fe1\u606f\u63d0\u4ea4\u53cd\u9988====>>\n\n",n)}else s=-1;console.log("\u590d\u8bfb\u673a\u68c0\u6d4b\uff0c\u68c0\u6d4b\u72b6\u6001\uff1a\u6b63\u5e38\uff0c\n"+(-1===s?"\u8bc4\u8bba\u4e0d\u8db3"+String(o)+"\u6761\uff0c\u5f53\u524d\u6761\u6570\uff1a"+String(d+1)+"\n\u7b49\u5f8510\u79d2":-2===s?"\u9ed1\u540d\u5355\u8bcd\u7ec4\u201c"+a+"\u201d\n\u7b49\u5f8510\u79d2":-3===s?"\u590d\u8bfb\u6210\u529f\uff01\uff0c\u5f53\u524d\u8bcd\u7ec4\uff1a\u201c"+g+"\u201d\n\u7b49\u5f8510\u79d2":0===s?"\u65e0\u91cd\u590d\uff0c\u5f53\u524d\u8bcd\u7ec4\uff1a\u201c"+g+"\u201d":"\u91cd\u590d\u6761\u6570\uff1a"+String(s+1)+"\uff0c\u5f53\u524d\u8bcd\u7ec4\uff1a\u201c"+g+"\u201d"));-3===s&&r("\u56de\u590d\u590d\u8bfb\u673a","\u590d\u8bfb\u6210\u529f\uff01\uff0c\u5f53\u524d\u8bcd\u7ec4\uff1a\u201c"+g+"\u201d");f=-1===s||-2===s||-3===s?setTimeout(function(){t(Number(n.i),Number(n.j))},1e4):setTimeout(function(){t(Number(n.i),Number(n.j))},e)}(Number(n.i),Number(n.j))},1)):console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\xb7\u81ea\u52a8\u590d\u8bfb\u3011%c\u529f\u80fd\u5df2%c\u5173\u95ed","color:red","color:black","background-color:red;color:white;"),console.groupEnd("[\u817e\u8baf\u8bfe\u5802\u63d2\u4ef6\u5f00\u542f\u60c5\u51b5]"),r("\u817e\u8baf\u8bfe\u5802\u63d2\u4ef6\u52a0\u8f7d\u6210\u529f\uff01","\u3010\u81ea\u52a8\u7b7e\u5230\u3011\xb7"+(n.k?"\u5f00\u542f":"\u5173\u95ed")+"\n\u3010\u8f85\u52a9\u4f5c\u7b54\u3011\xb7"+(n.l?"\u5f00\u542f":"\u5173\u95ed")+"\n\u3010\u81ea\u52a8\u590d\u8bfb\u3011\xb7"+(n.h?"\u5f00\u542f":"\u5173\u95ed"))}else console.log("\u5f55\u64ad");function t(t=1e3){var e,i,a,l,c=!1,s=!0,d=0,g=n.n<0;if(0!==n.n){var u=Math.abs(n.n),m=function(t=!0){console.log("\u5f00\u59cb\u7b54\u9898");var e=$(".head-text")[0].innerHTML,i=n.m?function(n=2){return Math.floor(Math.random()*n+1)-1}($(".s-f-rc-item").length):0;console.info("anser_type:"+e),$(".s-f-rc-item")[i].click(),document.querySelector("#react-body > div.examcard-dialog > div.im-dialog-wrap > div > div.btn-group > span").click(),setTimeout(function(){document.querySelector("#react-body > div.examcard-dialog > div.im-dialog-wrap > div > div.dialog-head.drag-handler > i").click(),o++,window.T2S("\u8f85\u52a9\u7b54\u9898\u63d2\u4ef6\uff0c\u7b54\u9898\u6210\u529f\uff01\u672c\u6b21\u9009\u62e9\u4e3a\uff1a"+["A","B","C","D","E"][i]+"\u3002\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u8f85\u52a9\uff0c"+String(o)+"\u6b21\u3002"),r("\u8f85\u52a9\u7b54\u9898\u6210\u529f\uff01","\u8f85\u52a9\u7b54\u9898\u63d2\u4ef6\uff0c\u7b54\u9898\u6210\u529f\uff01\n\u672c\u6b21\u9009\u62e9\u4e3a\uff1a"+["A","B","C","D","E"][i]+"\u3002\n\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u8f85\u52a9\uff0c"+String(o)+"\u6b21\u3002"),console.log("%c\u3010\u817e\u8baf\u8bfe\u5802\u81ea\u52a8\u7b7e\u5230\u63d2\u4ef6\u3011%c\n%s %c\u8f85\u52a9\u7b54\u9898\u6210\u529f\uff01\n\u672c\u6b21\u9009\u62e9\u4e3a\uff1a"+["A","B","C","D","E"][i]+"\u3002\n\u672c\u8282\u8bfe\u7d2f\u79ef\u5df2\u4e3a\u60a8\u7b54\u9898%c"+String(o)+"\u6b21%c\uff01","color:white;background-color:blue;font-size:20px","color:red;font-size:20px",(new Date).toLocaleTimeString(),"color:black","color:red;font-size:20px","color:black"),c=!1},200)};T&&clearInterval(T),T=setInterval(function(){try{$(".head-text").length?$(".head-text")[0].innerHTML.match(/\u9009\u9898/)&&(s&&(s=!1,window.T2S("\u68c0\u6d4b\u5230\u7b54\u9898\u7a97\u53e3\uff0c\u6b63\u5728\u5bc6\u5207\u76d1\u89c6\u4e2d\u3002\u3002\u3002"),console.log("\u68c0\u6d4b\u5230\u7b54\u9898\u7a97\u53e3\uff0c\u6b63\u5728\u5bc6\u5207\u76d1\u89c6\u4e2d\u3002\u3002\u3002")),e=$(".xq_num")[0].innerHTML,i=Number(e.match(/\d{2}/g)[0]),a=Number(e.match(/\d{2}/g)[1]),l=60*i+a-1,console.log("\u7b54\u9898\u8f85\u52a9\uff1a==%s==\n"+l,(new Date).toLocaleTimeString()),c||"0"!=$(".drag-handler").length&&(g?(d=l)<=u?(console.log("\u65f6\u95f4\u5230\uff01\u5f00\u59cb\u6267\u884c\u8f85\u52a9\u4f5c\u7b54\n\u968f\u673a\u9009\u62e9\uff1a%c%s",n.m?"color:green":"color:red",n.m?"\u5f00":"\u5173"),m(n.m),c=!0):console.log("\u76d1\u89c6\u4e2d\uff0c\u5269\u4f59\u7b49\u5f85\u65f6\u95f4\uff1a%c%s%c\u79d2","color:red",Math.abs(u-d),"color:black"):d>=u?(console.log("\u65f6\u95f4\u5230\uff01\u5f00\u59cb\u6267\u884c\u8f85\u52a9\u4f5c\u7b54\n\u968f\u673a\u9009\u62e9\uff1a%c%s",n.m?"color:green":"color:red",n.m?"\u5f00":"\u5173"),m(n.m),c=!0):(d++,console.log("\u76d1\u89c6\u4e2d\uff0c\u5269\u4f59\u7b49\u5f85\u65f6\u95f4\uff1a%c%s%c\u79d2","color:red",Math.abs(u-d),"color:black")))):(d=0,s=!0)}catch(n){d=0,s=!0,console.error("\u672a\u77e5\u9519\u8bef\uff01\n\u8bf7\u590d\u5236\u9519\u8bef\u4fe1\u606f\u63d0\u4ea4\u53cd\u9988====>>\n\n",n)}},t)}}}window.T2STEST=function(){window.T2S("\u8fd9\u91cc\u662f\u8bed\u97f3\u6d4b\u8bd5\uff0c\u5982\u679c\u58f0\u97f3\u5927\u5c0f\uff0c\u6216\u662f\u8bed\u901f\u4e0d\u5408\u9002\u8bf7\u4fee\u6539\u53c2\u6570\u3002Power By \u6d9b\u4e4b\u96e8")},$(document).ready(function(){d(!1)})}()}).catch(function(n){console.log("\u9519\u8bef\uff01\u8bf7\u590d\u5236\u540e\u4e0a\u62a5bug\u3002\u8c22\u8c22==>",n)}),window.T2S=function(t){if(n.a){void 0===t&&(t="\u6211\u6709\u53c2\u6570\u5462,\u64ad\u62a5\u7684\u5185\u5bb9\u60a8\u8fd8\u6ca1\u586b\u5462\u3002\u586b\u5199\u540e\u624d\u80fd\u8bfb\u51fa\u4f60\u60f3\u8981\u7684\u6587\u5b57\u5462\uff0c\u4eb2\uff01");var e=document.createElement("div");e.innerHTML='<iframe src="data:audio/mpeg;base64,x==" allow="autoplay" style="position:fixed;z-index:-999999999;top:-120px;left:-100px;width:10px;height:10px" autoplay></iframe>',e.id="taoSignAudioTEST",document.getElementsByTagName("body")[0].append(e),setTimeout(function(){document.getElementById("taoSignAudioTEST").remove(),(e=document.getElementById("taoSignAudio"))?e.src="http://tts.baidu.com/text2audio?cuid=baiduid&per=4&vol="+n.b+"&pit=6&lan=zh&spd="+n.c+"&ctp=1&pdt=311&ie=UTF-8&tex="+t:((e=document.createElement("audio")).id="taoSignAudio",e.src="http://tts.baidu.com/text2audio?cuid=baiduid&per=4&vol="+n.b+"&pit=6&lan=zh&spd="+n.c+"&ctp=1&pdt=311&ie=UTF-8&tex="+t,document.getElementsByTagName("body")[0].append(e)),document.getElementById("taoSignAudio").play()},500)}},GM_registerMenuCommand("\u6211\u627e\u4e0d\u5230\u63d2\u4ef6\u8bbe\u7f6e\u7a97\u53e3\uff01\u544a\u8bc9\u6211\u5728\u54ea\u91cc",function(){$("#AutoSignSettingIcon").css("top",0),null!==location.href.match(/chaoxing\.com/)?$(".wrap1200.clearfix,.headbanner_new,#to_top,.foot").css("filter","blur(10px)"):$("#preloading,#react-body").css("filter","blur(10px)"),setTimeout(function(){$("body").on("mousemove",function n(){$("#AutoSignSettingIcon").css("top","-48px"),null!==location.href.match(/chaoxing\.com/)?$(".wrap1200.clearfix,.headbanner_new,#to_top,.foot").css("filter","none"):$("#preloading,#react-body").css("filter","none"),$("body").off("mousemove",n())}())},5e3)})}();
